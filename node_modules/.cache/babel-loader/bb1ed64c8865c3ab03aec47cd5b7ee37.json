{"remainingRequest":"C:\\OSPanel\\domains\\ocean.lc\\node_modules\\babel-loader\\lib\\index.js!C:\\OSPanel\\domains\\ocean.lc\\src\\auth.js","dependencies":[{"path":"C:\\OSPanel\\domains\\ocean.lc\\src\\auth.js","mtime":1625748541825},{"path":"C:\\OSPanel\\domains\\ocean.lc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1625084645815},{"path":"C:\\OSPanel\\domains\\ocean.lc\\node_modules\\babel-loader\\lib\\index.js","mtime":1625084643971}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCnZhciBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7Cgp2YXIgQXV0aCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQXV0aCgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdXRoKTsKCiAgICB0aGlzLnRva2VuID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogICAgdmFyIHVzZXJEYXRhID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJyk7CiAgICB2YXIgcm9sZURhdGEgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3JvbGUnKTsKICAgIHRoaXMudXNlciA9IHVzZXJEYXRhID8gSlNPTi5wYXJzZSh1c2VyRGF0YSkgOiBudWxsOwogICAgdGhpcy5yb2xlID0gcm9sZURhdGEgPyByb2xlRGF0YSA6IG51bGw7CgogICAgaWYgKHRoaXMudG9rZW4pIHsKICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIHRoaXMudG9rZW47CiAgICB9CiAgfQoKICBfY3JlYXRlQ2xhc3MoQXV0aCwgW3sKICAgIGtleTogImxvZ291dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInRva2VuIik7CiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidXNlciIpOwogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInJvbGUiKTsKICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgfQogIH0sIHsKICAgIGtleTogImVkaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGVkaXQodXNlcikgewogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAibG9naW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ2luKHRva2VuKSB7CiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7CiAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyB0b2tlbjsKICAgICAgdGhpcy50b2tlbiA9IHRva2VuOwogICAgfQogIH0sIHsKICAgIGtleTogImNoZWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVjaygpIHsKICAgICAgcmV0dXJuICEhdGhpcy50b2tlbjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjaXRpZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNpdGllcygpIHsKICAgICAgdmFyIGNpdGllcyA9IHsKICAgICAgICAi0JDQu9C80LAt0JDRgtCwIjogMSwKICAgICAgICAi0J3Rg9GALdCh0YPQu9GC0LDQvSI6IDIsCiAgICAgICAgItCo0YvQvNC60LXQvdGCIjogMywKICAgICAgICAi0JDQutGC0L7QsdC1IjogNCwKICAgICAgICAi0JrQsNGA0LDQs9Cw0L3QtNCwIjogNSwKICAgICAgICAi0KLQsNGA0LDQtyI6IDYsCiAgICAgICAgItCf0LDQstC70L7QtNCw0YAiOiA3LAogICAgICAgICLQo9GB0YLRjC3QmtCw0LzQtdC90L7Qs9C+0YDRgdC6IjogOCwKICAgICAgICAi0KHQtdC80LXQuSI6IDksCiAgICAgICAgItCQ0YLRi9GA0LDRgyI6IDEwLAogICAgICAgICLQmtC+0YHRgtCw0L3QsNC5IjogMTEsCiAgICAgICAgItCa0YvQt9GL0LvQvtGA0LTQsCI6IDEyLAogICAgICAgICLQo9GA0LDQu9GM0YHQuiI6IDEzLAogICAgICAgICLQn9C10YLRgNC+0L/QsNCy0LvQvtCy0YHQuiI6IDE0LAogICAgICAgICLQotC10LzQuNGA0YLQsNGDIjogMTYsCiAgICAgICAgItCQ0LrRgtCw0YMiOiAxNSwKICAgICAgICAi0KLRg9GA0LrQtdGB0YLQsNC9IjogMTcsCiAgICAgICAgItCa0L7QutGI0LXRgtCw0YMiOiAxOCwKICAgICAgICAi0KLQsNC70LTRi9C60L7RgNCz0LDQvSI6IDE5LAogICAgICAgICLQrdC60LjQsdCw0YHRgtGD0LciOiAyMCwKICAgICAgICAi0KDRg9C00L3Ri9C5IjogMjEKICAgICAgfTsKICAgICAgdmFyIGNpdGllc19uYW1lID0gWyLQkNC70LzQsC3QkNGC0LAiLCAi0J3Rg9GALdCh0YPQu9GC0LDQvSIsICLQqNGL0LzQutC10L3RgiIsICLQkNC60YLQvtCx0LUiLCAi0JrQsNGA0LDQs9Cw0L3QtNCwIiwgItCi0LDRgNCw0LciLCAi0J/QsNCy0LvQvtC00LDRgCIsICLQo9GB0YLRjC3QmtCw0LzQtdC90L7Qs9C+0YDRgdC6IiwgItCh0LXQvNC10LkiLCAi0JDRgtGL0YDQsNGDIiwgItCa0L7RgdGC0LDQvdCw0LkiLCAi0JrRi9C30YvQu9C+0YDQtNCwIiwgItCj0YDQsNC70YzRgdC6IiwgItCf0LXRgtGA0L7Qv9Cw0LLQu9C+0LLRgdC6IiwgItCi0LXQvNC40YDRgtCw0YMiLCAi0JDQutGC0LDRgyIsICLQotGD0YDQutC10YHRgtCw0L0iLCAi0JrQvtC60YjQtdGC0LDRgyIsICLQotCw0LvQtNGL0LrQvtGA0LPQsNC9IiwgItCt0LrQuNCx0LDRgdGC0YPQtyIsICLQoNGD0LTQvdGL0LkiXTsKICAgICAgcmV0dXJuIHsKICAgICAgICAnY2l0aWVzJzogY2l0aWVzLAogICAgICAgICdjaXRpZXNfbmFtZSc6IGNpdGllc19uYW1lCiAgICAgIH07CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQXV0aDsKfSgpOwoKZXhwb3J0IGRlZmF1bHQgQXV0aDs="},{"version":3,"sources":["C:/OSPanel/domains/ocean.lc/src/auth.js"],"names":["axios","require","Auth","token","window","localStorage","getItem","userData","roleData","user","JSON","parse","role","defaults","headers","common","removeItem","location","reload","setItem","stringify","cities","cities_name"],"mappings":";;;;;;AAAA,IAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;IAEMC,I;AACF,kBAAc;AAAA;;AACV,SAAKC,KAAL,GAAaC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAb;AACA,QAAIC,QAAQ,GAAGH,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAf;AACA,QAAIE,QAAQ,GAAGJ,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAf;AACA,SAAKG,IAAL,GAAYF,QAAQ,GAAGG,IAAI,CAACC,KAAL,CAAWJ,QAAX,CAAH,GAA0B,IAA9C;AACA,SAAKK,IAAL,GAAYJ,QAAQ,GAAGA,QAAH,GAAc,IAAlC;;AACA,QAAI,KAAKL,KAAT,EAAgB;AACZH,MAAAA,KAAK,CAACa,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,YAAY,KAAKZ,KAAlE;AACH;AACJ;;;;WAED,kBAAS;AACLC,MAAAA,MAAM,CAACC,YAAP,CAAoBW,UAApB,CAA+B,OAA/B;AACAZ,MAAAA,MAAM,CAACC,YAAP,CAAoBW,UAApB,CAA+B,MAA/B;AACAZ,MAAAA,MAAM,CAACC,YAAP,CAAoBW,UAApB,CAA+B,MAA/B;AACAZ,MAAAA,MAAM,CAACa,QAAP,CAAgBC,MAAhB;AACH;;;WAED,cAAKT,IAAL,EAAW;AACPL,MAAAA,MAAM,CAACC,YAAP,CAAoBc,OAApB,CAA4B,MAA5B,EAAoCT,IAAI,CAACU,SAAL,CAAeX,IAAf,CAApC;AACH;;;WAED,eAAMN,KAAN,EAAa;AACTC,MAAAA,MAAM,CAACC,YAAP,CAAoBc,OAApB,CAA4B,OAA5B,EAAqChB,KAArC;AACAH,MAAAA,KAAK,CAACa,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,YAAYZ,KAA7D;AACA,WAAKA,KAAL,GAAaA,KAAb;AACH;;;WAED,iBAAQ;AACJ,aAAO,CAAC,CAAC,KAAKA,KAAd;AACH;;;WAED,kBAAS;AACL,UAAIkB,MAAM,GAAG;AACT,oBAAY,CADH;AAET,sBAAc,CAFL;AAGT,mBAAW,CAHF;AAIT,kBAAU,CAJD;AAKT,qBAAa,CALJ;AAMT,iBAAS,CANA;AAOT,oBAAY,CAPH;AAQT,4BAAoB,CARX;AAST,iBAAS,CATA;AAUT,kBAAU,EAVD;AAWT,oBAAY,EAXH;AAYT,qBAAa,EAZJ;AAaT,mBAAW,EAbF;AAcT,yBAAiB,EAdR;AAeT,oBAAY,EAfH;AAgBT,iBAAS,EAhBA;AAiBT,qBAAa,EAjBJ;AAkBT,oBAAY,EAlBH;AAmBT,uBAAe,EAnBN;AAoBT,qBAAa,EApBJ;AAqBT,kBAAU;AArBD,OAAb;AAuBA,UAAIC,WAAW,GAAG,CACd,UADc,EAEd,YAFc,EAGd,SAHc,EAId,QAJc,EAKd,WALc,EAMd,OANc,EAOd,UAPc,EAQd,kBARc,EASd,OATc,EAUd,QAVc,EAWd,UAXc,EAYd,WAZc,EAad,SAbc,EAcd,eAdc,EAed,UAfc,EAgBd,OAhBc,EAiBd,WAjBc,EAkBd,UAlBc,EAmBd,aAnBc,EAoBd,WApBc,EAqBd,QArBc,CAAlB;AAuBA,aAAO;AAAC,kBAAUD,MAAX;AAAmB,uBAAeC;AAAlC,OAAP;AACH;;;;;;AAGL,eAAepB,IAAf","sourcesContent":["const axios = require('axios')\r\n\r\nclass Auth {\r\n    constructor() {\r\n        this.token = window.localStorage.getItem('token');\r\n        let userData = window.localStorage.getItem('user');\r\n        let roleData = window.localStorage.getItem('role');\r\n        this.user = userData ? JSON.parse(userData) : null;\r\n        this.role = roleData ? roleData : null;\r\n        if (this.token) {\r\n            axios.defaults.headers.common['Authorization'] = 'Bearer ' + this.token;\r\n        }\r\n    }\r\n\r\n    logout() {\r\n        window.localStorage.removeItem(\"token\");\r\n        window.localStorage.removeItem(\"user\");\r\n        window.localStorage.removeItem(\"role\");\r\n        window.location.reload();\r\n    }\r\n\r\n    edit(user) {\r\n        window.localStorage.setItem('user', JSON.stringify(user));\r\n    }\r\n\r\n    login(token) {\r\n        window.localStorage.setItem('token', token);\r\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\r\n        this.token = token;\r\n    }\r\n\r\n    check() {\r\n        return !!this.token;\r\n    }\r\n\r\n    cities() {\r\n        let cities = {\r\n            \"Алма-Ата\": 1,\r\n            \"Нур-Султан\": 2,\r\n            \"Шымкент\": 3,\r\n            \"Актобе\": 4,\r\n            \"Караганда\": 5,\r\n            \"Тараз\": 6,\r\n            \"Павлодар\": 7,\r\n            \"Усть-Каменогорск\": 8,\r\n            \"Семей\": 9,\r\n            \"Атырау\": 10,\r\n            \"Костанай\": 11,\r\n            \"Кызылорда\": 12,\r\n            \"Уральск\": 13,\r\n            \"Петропавловск\": 14,\r\n            \"Темиртау\": 16,\r\n            \"Актау\": 15,\r\n            \"Туркестан\": 17,\r\n            \"Кокшетау\": 18,\r\n            \"Талдыкорган\": 19,\r\n            \"Экибастуз\": 20,\r\n            \"Рудный\": 21\r\n        }\r\n        let cities_name = [\r\n            \"Алма-Ата\",\r\n            \"Нур-Султан\",\r\n            \"Шымкент\",\r\n            \"Актобе\",\r\n            \"Караганда\",\r\n            \"Тараз\",\r\n            \"Павлодар\",\r\n            \"Усть-Каменогорск\",\r\n            \"Семей\",\r\n            \"Атырау\",\r\n            \"Костанай\",\r\n            \"Кызылорда\",\r\n            \"Уральск\",\r\n            \"Петропавловск\",\r\n            \"Темиртау\",\r\n            \"Актау\",\r\n            \"Туркестан\",\r\n            \"Кокшетау\",\r\n            \"Талдыкорган\",\r\n            \"Экибастуз\",\r\n            \"Рудный\",\r\n        ];\r\n        return {'cities': cities, 'cities_name': cities_name};\r\n    }\r\n}\r\n\r\nexport default Auth;\r\n"]}]}