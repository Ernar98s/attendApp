{"remainingRequest":"C:\\Users\\Omen\\Downloads\\Telegram Desktop\\project\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Omen\\Downloads\\Telegram Desktop\\project\\src\\auth.js","dependencies":[{"path":"C:\\Users\\Omen\\Downloads\\Telegram Desktop\\project\\src\\auth.js","mtime":1619769437780},{"path":"C:\\Users\\Omen\\Downloads\\Telegram Desktop\\project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Omen\\Downloads\\Telegram Desktop\\project\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCnZhciBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7Cgp2YXIgQXV0aCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQXV0aCgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdXRoKTsKCiAgICB0aGlzLnRva2VuID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogICAgdmFyIHVzZXJEYXRhID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJyk7CiAgICB2YXIgcm9sZURhdGEgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3JvbGUnKTsKICAgIHRoaXMudXNlciA9IHVzZXJEYXRhID8gSlNPTi5wYXJzZSh1c2VyRGF0YSkgOiBudWxsOwogICAgdGhpcy5yb2xlID0gcm9sZURhdGEgPyByb2xlRGF0YSA6IG51bGw7CgogICAgaWYgKHRoaXMudG9rZW4pIHsKICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIHRoaXMudG9rZW47CiAgICB9CiAgfQoKICBfY3JlYXRlQ2xhc3MoQXV0aCwgW3sKICAgIGtleTogImxvZ291dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInRva2VuIik7CiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidXNlciIpOwogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInJvbGUiKTsKICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgfQogIH0sIHsKICAgIGtleTogImVkaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGVkaXQodXNlcikgewogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAibG9naW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ2luKHRva2VuKSB7CiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7CiAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyB0b2tlbjsKICAgICAgdGhpcy50b2tlbiA9IHRva2VuOwogICAgfQogIH0sIHsKICAgIGtleTogImNoZWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVjaygpIHsKICAgICAgcmV0dXJuICEhdGhpcy50b2tlbjsKICAgIH0KICB9XSk7CgogIHJldHVybiBBdXRoOwp9KCk7CgpleHBvcnQgZGVmYXVsdCBBdXRoOw=="},{"version":3,"sources":["C:/Users/Omen/Downloads/Telegram Desktop/project/src/auth.js"],"names":["axios","require","Auth","token","window","localStorage","getItem","userData","roleData","user","JSON","parse","role","defaults","headers","common","removeItem","location","reload","setItem","stringify"],"mappings":";;;;;;AAAA,IAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;IAEMC,I;AACF,kBAAc;AAAA;;AACV,SAAKC,KAAL,GAAaC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAb;AACA,QAAIC,QAAQ,GAAGH,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAf;AACA,QAAIE,QAAQ,GAAGJ,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAf;AACA,SAAKG,IAAL,GAAYF,QAAQ,GAAGG,IAAI,CAACC,KAAL,CAAWJ,QAAX,CAAH,GAA0B,IAA9C;AACA,SAAKK,IAAL,GAAYJ,QAAQ,GAAGA,QAAH,GAAc,IAAlC;;AACA,QAAI,KAAKL,KAAT,EAAgB;AACZH,MAAAA,KAAK,CAACa,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,YAAY,KAAKZ,KAAlE;AACH;AACJ;;;;WACD,kBAAS;AACLC,MAAAA,MAAM,CAACC,YAAP,CAAoBW,UAApB,CAA+B,OAA/B;AACAZ,MAAAA,MAAM,CAACC,YAAP,CAAoBW,UAApB,CAA+B,MAA/B;AACAZ,MAAAA,MAAM,CAACC,YAAP,CAAoBW,UAApB,CAA+B,MAA/B;AACAZ,MAAAA,MAAM,CAACa,QAAP,CAAgBC,MAAhB;AACH;;;WACD,cAAKT,IAAL,EAAW;AACPL,MAAAA,MAAM,CAACC,YAAP,CAAoBc,OAApB,CAA4B,MAA5B,EAAoCT,IAAI,CAACU,SAAL,CAAeX,IAAf,CAApC;AACH;;;WACD,eAAMN,KAAN,EAAa;AACTC,MAAAA,MAAM,CAACC,YAAP,CAAoBc,OAApB,CAA4B,OAA5B,EAAqChB,KAArC;AACAH,MAAAA,KAAK,CAACa,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,YAAYZ,KAA7D;AACA,WAAKA,KAAL,GAAaA,KAAb;AACH;;;WAED,iBAAQ;AACJ,aAAO,CAAC,CAAC,KAAKA,KAAd;AACH;;;;;;AAGL,eAAeD,IAAf","sourcesContent":["const axios = require('axios')\r\n\r\nclass Auth {\r\n    constructor() {\r\n        this.token = window.localStorage.getItem('token');\r\n        let userData = window.localStorage.getItem('user');\r\n        let roleData = window.localStorage.getItem('role');\r\n        this.user = userData ? JSON.parse(userData) : null;\r\n        this.role = roleData ? roleData : null;\r\n        if (this.token) {\r\n            axios.defaults.headers.common['Authorization'] = 'Bearer ' + this.token;\r\n        }\r\n    }\r\n    logout() {\r\n        window.localStorage.removeItem(\"token\");\r\n        window.localStorage.removeItem(\"user\");\r\n        window.localStorage.removeItem(\"role\");\r\n        window.location.reload();\r\n    }\r\n    edit(user) {\r\n        window.localStorage.setItem('user', JSON.stringify(user));\r\n    }\r\n    login(token) {\r\n        window.localStorage.setItem('token', token);\r\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\r\n        this.token = token;\r\n    }\r\n\r\n    check() {\r\n        return !!this.token;\r\n    }\r\n}\r\n\r\nexport default Auth;\r\n"]}]}