{"remainingRequest":"C:\\projects\\Attendapp\\node_modules\\babel-loader\\lib\\index.js!C:\\projects\\Attendapp\\src\\auth.js","dependencies":[{"path":"C:\\projects\\Attendapp\\src\\auth.js","mtime":1627375433930},{"path":"C:\\projects\\Attendapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1627375426082},{"path":"C:\\projects\\Attendapp\\node_modules\\babel-loader\\lib\\index.js","mtime":1627375425430}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCnZhciBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7Cgp2YXIgQXV0aCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQXV0aCgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdXRoKTsKCiAgICB0aGlzLnRva2VuID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogICAgdmFyIHVzZXJEYXRhID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJyk7CiAgICB2YXIgcm9sZURhdGEgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3JvbGUnKTsKICAgIHRoaXMudXNlciA9IHVzZXJEYXRhID8gSlNPTi5wYXJzZSh1c2VyRGF0YSkgOiBudWxsOwogICAgdGhpcy5yb2xlID0gcm9sZURhdGEgPyByb2xlRGF0YSA6IG51bGw7CgogICAgaWYgKHRoaXMudG9rZW4pIHsKICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIHRoaXMudG9rZW47CiAgICB9CiAgfQoKICBfY3JlYXRlQ2xhc3MoQXV0aCwgW3sKICAgIGtleTogImxvZ291dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInRva2VuIik7CiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidXNlciIpOwogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInJvbGUiKTsKICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgfQogIH0sIHsKICAgIGtleTogImVkaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGVkaXQodXNlcikgewogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAibG9naW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ2luKHRva2VuKSB7CiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7CiAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyB0b2tlbjsKICAgICAgdGhpcy50b2tlbiA9IHRva2VuOwogICAgfQogIH0sIHsKICAgIGtleTogImNoZWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVjaygpIHsKICAgICAgcmV0dXJuICEhdGhpcy50b2tlbjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjaXRpZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNpdGllcygpIHsKICAgICAgdmFyIGNpdGllc19rZXkgPSB7CiAgICAgICAgJzEnOiAi0JDQu9C80LAt0JDRgtCwIiwKICAgICAgICAnMic6ICLQndGD0YAt0KHRg9C70YLQsNC9IiwKICAgICAgICAnMyc6ICLQqNGL0LzQutC10L3RgiIsCiAgICAgICAgJzQnOiAi0JDQutGC0L7QsdC1IiwKICAgICAgICAnNSc6ICLQmtCw0YDQsNCz0LDQvdC00LAiLAogICAgICAgICc2JzogItCi0LDRgNCw0LciLAogICAgICAgICc3JzogItCf0LDQstC70L7QtNCw0YAiLAogICAgICAgICc4JzogItCj0YHRgtGMLdCa0LDQvNC10L3QvtCz0L7RgNGB0LoiLAogICAgICAgICc5JzogItCh0LXQvNC10LkiLAogICAgICAgICcxMCc6ICLQkNGC0YvRgNCw0YMiLAogICAgICAgICcxMSc6ICLQmtC+0YHRgtCw0L3QsNC5IiwKICAgICAgICAnMTInOiAi0JrRi9C30YvQu9C+0YDQtNCwIiwKICAgICAgICAnMTMnOiAi0KPRgNCw0LvRjNGB0LoiLAogICAgICAgICcxNCc6ICLQn9C10YLRgNC+0L/QsNCy0LvQvtCy0YHQuiIsCiAgICAgICAgJzE2JzogItCi0LXQvNC40YDRgtCw0YMiLAogICAgICAgICcxNSc6ICLQkNC60YLQsNGDIiwKICAgICAgICAnMTcnOiAi0KLRg9GA0LrQtdGB0YLQsNC9IiwKICAgICAgICAnMTgnOiAi0JrQvtC60YjQtdGC0LDRgyIsCiAgICAgICAgJzE5JzogItCi0LDQu9C00YvQutC+0YDQs9Cw0L0iLAogICAgICAgICcyMCc6ICLQrdC60LjQsdCw0YHRgtGD0LciLAogICAgICAgICcyMSc6ICLQoNGD0LTQvdGL0LkiCiAgICAgIH07CiAgICAgIHZhciBjaXRpZXMgPSB7CiAgICAgICAgItCQ0LvQvNCwLdCQ0YLQsCI6IDEsCiAgICAgICAgItCd0YPRgC3QodGD0LvRgtCw0L0iOiAyLAogICAgICAgICLQqNGL0LzQutC10L3RgiI6IDMsCiAgICAgICAgItCQ0LrRgtC+0LHQtSI6IDQsCiAgICAgICAgItCa0LDRgNCw0LPQsNC90LTQsCI6IDUsCiAgICAgICAgItCi0LDRgNCw0LciOiA2LAogICAgICAgICLQn9Cw0LLQu9C+0LTQsNGAIjogNywKICAgICAgICAi0KPRgdGC0Ywt0JrQsNC80LXQvdC+0LPQvtGA0YHQuiI6IDgsCiAgICAgICAgItCh0LXQvNC10LkiOiA5LAogICAgICAgICLQkNGC0YvRgNCw0YMiOiAxMCwKICAgICAgICAi0JrQvtGB0YLQsNC90LDQuSI6IDExLAogICAgICAgICLQmtGL0LfRi9C70L7RgNC00LAiOiAxMiwKICAgICAgICAi0KPRgNCw0LvRjNGB0LoiOiAxMywKICAgICAgICAi0J/QtdGC0YDQvtC/0LDQstC70L7QstGB0LoiOiAxNCwKICAgICAgICAi0KLQtdC80LjRgNGC0LDRgyI6IDE2LAogICAgICAgICLQkNC60YLQsNGDIjogMTUsCiAgICAgICAgItCi0YPRgNC60LXRgdGC0LDQvSI6IDE3LAogICAgICAgICLQmtC+0LrRiNC10YLQsNGDIjogMTgsCiAgICAgICAgItCi0LDQu9C00YvQutC+0YDQs9Cw0L0iOiAxOSwKICAgICAgICAi0K3QutC40LHQsNGB0YLRg9C3IjogMjAsCiAgICAgICAgItCg0YPQtNC90YvQuSI6IDIxCiAgICAgIH07CiAgICAgIHZhciBjaXRpZXNfbmFtZSA9IFsi0JDQu9C80LAt0JDRgtCwIiwgItCd0YPRgC3QodGD0LvRgtCw0L0iLCAi0KjRi9C80LrQtdC90YIiLCAi0JDQutGC0L7QsdC1IiwgItCa0LDRgNCw0LPQsNC90LTQsCIsICLQotCw0YDQsNC3IiwgItCf0LDQstC70L7QtNCw0YAiLCAi0KPRgdGC0Ywt0JrQsNC80LXQvdC+0LPQvtGA0YHQuiIsICLQodC10LzQtdC5IiwgItCQ0YLRi9GA0LDRgyIsICLQmtC+0YHRgtCw0L3QsNC5IiwgItCa0YvQt9GL0LvQvtGA0LTQsCIsICLQo9GA0LDQu9GM0YHQuiIsICLQn9C10YLRgNC+0L/QsNCy0LvQvtCy0YHQuiIsICLQotC10LzQuNGA0YLQsNGDIiwgItCQ0LrRgtCw0YMiLCAi0KLRg9GA0LrQtdGB0YLQsNC9IiwgItCa0L7QutGI0LXRgtCw0YMiLCAi0KLQsNC70LTRi9C60L7RgNCz0LDQvSIsICLQrdC60LjQsdCw0YHRgtGD0LciLCAi0KDRg9C00L3Ri9C5Il07CiAgICAgIHJldHVybiB7CiAgICAgICAgJ2NpdGllcyc6IGNpdGllcywKICAgICAgICAnY2l0aWVzX25hbWUnOiBjaXRpZXNfbmFtZSwKICAgICAgICAnY2l0aWVzX2tleSc6IGNpdGllc19rZXkKICAgICAgfTsKICAgIH0KICB9XSk7CgogIHJldHVybiBBdXRoOwp9KCk7CgpleHBvcnQgZGVmYXVsdCBBdXRoOw=="},{"version":3,"sources":["C:/projects/Attendapp/src/auth.js"],"names":["axios","require","Auth","token","window","localStorage","getItem","userData","roleData","user","JSON","parse","role","defaults","headers","common","removeItem","location","reload","setItem","stringify","cities_key","cities","cities_name"],"mappings":"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","sourcesContent":["const axios = require('axios')\r\n\r\nclass Auth {\r\n    constructor() {\r\n        this.token = window.localStorage.getItem('token');\r\n        let userData = window.localStorage.getItem('user');\r\n        let roleData = window.localStorage.getItem('role');\r\n        this.user = userData ? JSON.parse(userData) : null;\r\n        this.role = roleData ? roleData : null;\r\n        if (this.token) {\r\n            axios.defaults.headers.common['Authorization'] = 'Bearer ' + this.token;\r\n        }\r\n    }\r\n\r\n    logout() {\r\n        window.localStorage.removeItem(\"token\");\r\n        window.localStorage.removeItem(\"user\");\r\n        window.localStorage.removeItem(\"role\");\r\n        window.location.reload();\r\n    }\r\n\r\n    edit(user) {\r\n        window.localStorage.setItem('user', JSON.stringify(user));\r\n    }\r\n\r\n    login(token) {\r\n        window.localStorage.setItem('token', token);\r\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\r\n        this.token = token;\r\n    }\r\n\r\n    check() {\r\n        return !!this.token;\r\n    }\r\n\r\n    cities() {\r\n        let cities_key = {\r\n            '1': \"Алма-Ата\",\r\n            '2': \"Нур-Султан\",\r\n            '3': \"Шымкент\",\r\n            '4': \"Актобе\",\r\n            '5': \"Караганда\",\r\n            '6': \"Тараз\",\r\n            '7': \"Павлодар\",\r\n            '8': \"Усть-Каменогорск\",\r\n            '9': \"Семей\",\r\n            '10': \"Атырау\",\r\n            '11': \"Костанай\",\r\n            '12': \"Кызылорда\",\r\n            '13': \"Уральск\",\r\n            '14': \"Петропавловск\",\r\n            '16': \"Темиртау\",\r\n            '15': \"Актау\",\r\n            '17': \"Туркестан\",\r\n            '18': \"Кокшетау\",\r\n            '19': \"Талдыкорган\",\r\n            '20': \"Экибастуз\",\r\n            '21': \"Рудный\"\r\n        };\r\n        let cities = {\r\n            \"Алма-Ата\": 1,\r\n            \"Нур-Султан\": 2,\r\n            \"Шымкент\": 3,\r\n            \"Актобе\": 4,\r\n            \"Караганда\": 5,\r\n            \"Тараз\": 6,\r\n            \"Павлодар\": 7,\r\n            \"Усть-Каменогорск\": 8,\r\n            \"Семей\": 9,\r\n            \"Атырау\": 10,\r\n            \"Костанай\": 11,\r\n            \"Кызылорда\": 12,\r\n            \"Уральск\": 13,\r\n            \"Петропавловск\": 14,\r\n            \"Темиртау\": 16,\r\n            \"Актау\": 15,\r\n            \"Туркестан\": 17,\r\n            \"Кокшетау\": 18,\r\n            \"Талдыкорган\": 19,\r\n            \"Экибастуз\": 20,\r\n            \"Рудный\": 21\r\n        }\r\n        let cities_name = [\r\n            \"Алма-Ата\",\r\n            \"Нур-Султан\",\r\n            \"Шымкент\",\r\n            \"Актобе\",\r\n            \"Караганда\",\r\n            \"Тараз\",\r\n            \"Павлодар\",\r\n            \"Усть-Каменогорск\",\r\n            \"Семей\",\r\n            \"Атырау\",\r\n            \"Костанай\",\r\n            \"Кызылорда\",\r\n            \"Уральск\",\r\n            \"Петропавловск\",\r\n            \"Темиртау\",\r\n            \"Актау\",\r\n            \"Туркестан\",\r\n            \"Кокшетау\",\r\n            \"Талдыкорган\",\r\n            \"Экибастуз\",\r\n            \"Рудный\",\r\n        ];\r\n        return {'cities': cities, 'cities_name': cities_name, 'cities_key': cities_key};\r\n    }\r\n}\r\n\r\nexport default Auth;\r\n"]}]}