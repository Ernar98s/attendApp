{"version":3,"sources":["webpack:///./src/views/DashboardHistory.vue?68d5","webpack:///src/views/DashboardHistory.vue","webpack:///./src/views/DashboardHistory.vue?eb0e","webpack:///./src/views/DashboardHistory.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","id","tableItems","tableFields","scopedSlots","_u","key","fn","ref","item","select","on","$event","isSelect","city","district","street","typeofbuilding","buildingnum","entrancenum","shaftnum","floor","aptoroffice","valveID","status","$set","actionStatusChange","staticStyle","warningModal","$router","push","path","staticRenderFns","name","components","MainChartExample","WidgetsDropdown","WidgetsBrand","data","warning","success","alert_message","action_switcher","$route","params","mounted","getResults","methods","axios","defaults","headers","common","window","auth","token","get","app","response","i","length","error","logout","component"],"mappings":"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","file":"js/chunk-2d0dd89a.4551831b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('CRow',{staticClass:\"clapans\"},[_c('CCol',{attrs:{\"md\":\"12\"}},[_c('CCard',[_c('CCardHeader',[_c('div',{staticClass:\"d-flex aligin-items-center justify-content-between\"},[_c('span',[_vm._v(\"История клапана: \"+_vm._s(_vm.id))])])]),_c('CCardBody',[_c('CDataTable',{staticClass:\"mb-0 table-outline\",attrs:{\"hover\":\"\",\"items\":_vm.tableItems,\"fields\":_vm.tableFields,\"head-color\":\"light\"},scopedSlots:_vm._u([{key:\"select\",fn:function(ref){\nvar item = ref.item;\nreturn _c('td',{},[_c('CInputCheckbox',{attrs:{\"value\":item.select,\"custom\":\"\",\"inline\":\"\"},on:{\"change\":function($event){_vm.isSelect = true}}})],1)}},{key:\"city\",fn:function(ref){\nvar item = ref.item;\nreturn _c('td',{},[_vm._v(\" \"+_vm._s(item.city)+\" \")])}},{key:\"district\",fn:function(ref){\nvar item = ref.item;\nreturn _c('td',{},[_vm._v(\" \"+_vm._s(item.district)+\" \")])}},{key:\"street\",fn:function(ref){\nvar item = ref.item;\nreturn _c('td',{},[_vm._v(\" \"+_vm._s(item.street)+\" \")])}},{key:\"building\",fn:function(ref){\nvar item = ref.item;\nreturn _c('td',{},[_vm._v(\" \"+_vm._s(item.typeofbuilding)+\" \")])}},{key:\"numHouse\",fn:function(ref){\nvar item = ref.item;\nreturn _c('td',{},[_vm._v(\" \"+_vm._s(item.buildingnum)+\" \")])}},{key:\"numDoor\",fn:function(ref){\nvar item = ref.item;\nreturn _c('td',{},[_vm._v(\" \"+_vm._s(item.entrancenum)+\" \")])}},{key:\"numMine\",fn:function(ref){\nvar item = ref.item;\nreturn _c('td',{},[_vm._v(\" \"+_vm._s(item.shaftnum)+\" \")])}},{key:\"stage\",fn:function(ref){\nvar item = ref.item;\nreturn _c('td',{},[_vm._v(\" \"+_vm._s(item.floor)+\" \")])}},{key:\"numOffice\",fn:function(ref){\nvar item = ref.item;\nreturn _c('td',{},[_vm._v(\" \"+_vm._s(item.aptoroffice)+\" \")])}},{key:\"id\",fn:function(ref){\nvar item = ref.item;\nreturn _c('td',{},[_vm._v(\" \"+_vm._s(item.valveID)+\" \")])}},{key:\"status\",fn:function(ref){\nvar item = ref.item;\nreturn _c('td',{},[(item.status==0)?_c('CBadge',{attrs:{\"color\":\"danger\"}},[_vm._v(\" выключен \")]):(item.status==1)?_c('CBadge',{attrs:{\"color\":\"success\"}},[_vm._v(\"включен\")]):(item.status==2)?_c('CBadge',{attrs:{\"color\":\"warning\"}},[_vm._v(\"нет данных\")]):_c('CBadge',{attrs:{\"color\":\"info\"}},[_vm._v(\"не известно\")]),_c('br'),_c('CSwitch',{staticClass:\"mt-1\",attrs:{\"color\":\"primary\",\"checked\":item.status==1,\"value\":item.status},on:{\"update:checked\":[function($event){return _vm.$set(item, \"status==1\", $event)},function($event){return _vm.actionStatusChange(item)}]}})],1)}},{key:\"settings\",fn:function(ref){\nvar item = ref.item;\nreturn _c('td',{},[_c('span',{staticClass:\"d-flex align-items-center\",staticStyle:{\"white-space\":\"nowrap\",\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.warningModal = !_vm.warningModal}}},[_c('CIcon',{staticClass:\"mr-1\",attrs:{\"name\":\"cilSettings\"}}),_vm._v(\" Настройки \")],1),_c('span',{staticClass:\"d-flex align-items-center\",staticStyle:{\"white-space\":\"nowrap\",\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.$router.push({path: '/dashboard/'+item.id})}}},[_c('CIcon',{staticClass:\"mr-1\",attrs:{\"name\":\"cilSettings\"}}),_vm._v(\" История \")],1)])}}])})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <CRow class=\"clapans\">\r\n      <CCol md=\"12\">\r\n        <CCard>\r\n          <CCardHeader>\r\n            <div class=\"d-flex aligin-items-center justify-content-between\">\r\n              <span>История клапана: {{id}}</span>\r\n            </div>\r\n          </CCardHeader\r\n          >\r\n          <CCardBody>\r\n            <CDataTable\r\n                class=\"mb-0 table-outline\"\r\n                hover\r\n                :items=\"tableItems\"\r\n                :fields=\"tableFields\"\r\n                head-color=\"light\"\r\n            >\r\n              <td slot=\"select\" slot-scope=\"{ item }\">\r\n                <CInputCheckbox\r\n                    :value=\"item.select\"\r\n                    custom\r\n                    inline\r\n                    @change=\"isSelect = true\"\r\n                />\r\n              </td>\r\n              <td slot=\"city\" slot-scope=\"{ item }\">\r\n                {{ item.city }}\r\n              </td>\r\n              <td slot=\"district\" slot-scope=\"{ item }\">\r\n                {{ item.district }}\r\n              </td>\r\n              <td slot=\"street\" slot-scope=\"{ item }\">\r\n                {{ item.street }}\r\n              </td>\r\n              <td slot=\"building\" slot-scope=\"{ item }\">\r\n                {{ item.typeofbuilding }}\r\n              </td>\r\n              <td slot=\"numHouse\" slot-scope=\"{ item }\">\r\n                {{ item.buildingnum }}\r\n              </td>\r\n              <td slot=\"numDoor\" slot-scope=\"{ item }\">\r\n                {{ item.entrancenum }}\r\n              </td>\r\n              <td slot=\"numMine\" slot-scope=\"{ item }\">\r\n                {{ item.shaftnum }}\r\n              </td>\r\n              <td slot=\"stage\" slot-scope=\"{ item }\">\r\n                {{ item.floor }}\r\n              </td>\r\n              <td slot=\"numOffice\" slot-scope=\"{ item }\">\r\n                {{ item.aptoroffice }}\r\n              </td>\r\n              <td slot=\"id\" slot-scope=\"{ item }\">\r\n                {{ item.valveID }}\r\n              </td>\r\n              <td slot=\"status\" slot-scope=\"{ item }\">\r\n                <CBadge v-if=\"item.status==0\" color=\"danger\">\r\n                  выключен\r\n                </CBadge\r\n                >\r\n                <CBadge v-else-if=\"item.status==1\" color=\"success\">включен</CBadge>\r\n                <CBadge v-else-if=\"item.status==2\" color=\"warning\">нет данных</CBadge>\r\n                <CBadge v-else color=\"info\">не известно</CBadge>\r\n                <br/>\r\n                <CSwitch\r\n                    class=\"mt-1\"\r\n                    color=\"primary\"\r\n                    :checked.sync=\"item.status==1\"\r\n                    :value=\"item.status\"\r\n                    @update:checked=\"actionStatusChange(item)\"\r\n                />\r\n              </td>\r\n              <td slot=\"settings\" slot-scope=\"{ item }\">\r\n                <span\r\n                    style=\"white-space: nowrap; cursor: pointer\"\r\n                    class=\"d-flex align-items-center\"\r\n                    @click=\"warningModal = !warningModal\"\r\n                ><CIcon name=\"cilSettings\" class=\"mr-1\"/> Настройки\r\n                </span>\r\n                <span\r\n                    style=\"white-space: nowrap; cursor: pointer\"\r\n                    class=\"d-flex align-items-center\"\r\n                    @click=\"$router.push({path: '/dashboard/'+item.id})\"\r\n                ><CIcon name=\"cilSettings\" class=\"mr-1\"/> История\r\n                </span>\r\n              </td>\r\n            </CDataTable>\r\n          </CCardBody>\r\n        </CCard>\r\n      </CCol>\r\n    </CRow>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MainChartExample from \"./charts/MainChartExample\";\r\nimport WidgetsDropdown from \"./widgets/WidgetsDropdown\";\r\nimport WidgetsBrand from \"./widgets/WidgetsBrand\";\r\nconst qs = require('qs')\r\nconst axios = require('axios')\r\nexport default {\r\n  name: \"Dashboard\",\r\n  components: {\r\n    MainChartExample,\r\n    WidgetsDropdown,\r\n    WidgetsBrand,\r\n  },\r\n  data() {\r\n    return {\r\n      warning: false,\r\n      success: false,\r\n      alert_message: '',\r\n      warningModal: false,\r\n      isSelect: false,\r\n      action_switcher: '',\r\n      id: this.$route.params.id,\r\n      tableItems: [],\r\n      tableFields: [\r\n        {key: \"ID\", label: \"ID\",},\r\n        {key: \"comment\", label: \"Комметарий\"},\r\n        {key: \"date\", label: \"Дата\", },\r\n      ],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getResults();\r\n  },\r\n  methods: {\r\n    getResults() {\r\n      let app = this;\r\n      axios.defaults.headers.common['Authorization'] = 'Bearer ' + window.auth.token;\r\n      axios.get('/getcommentsbyID/'+ app.$route.params.id).then(response => {\r\n        app.tableItems = response.data;\r\n        for (var i = 0; i < app.tableItems.length; i++) {\r\n          app.tableItems[i].select = false;\r\n        }\r\n      }).catch(error => {\r\n        if (error.response.status == 401) {\r\n          window.auth.logout();\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardHistory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardHistory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DashboardHistory.vue?vue&type=template&id=65eaae9c&\"\nimport script from \"./DashboardHistory.vue?vue&type=script&lang=js&\"\nexport * from \"./DashboardHistory.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}